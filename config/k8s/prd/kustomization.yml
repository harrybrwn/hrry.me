commonLabels:
  environment: prd

resources:
  - ingress-routes.yml
  - volumes.yml
  - system
  - infra
  - apps

patches:
  - target: { kind: Deployment }
    patch: |-
      - { op: add, value: Always, path: /spec/template/spec/containers/0/imagePullPolicy }
  - target: { kind: StatefulSet }
    patch: |-
      - { op: add, value: Always, path: /spec/template/spec/containers/0/imagePullPolicy }
  - target: { kind: DaemonSet }
    patch: |-
      - { op: add, value: Always, path: /spec/template/spec/containers/0/imagePullPolicy }
  - target: { kind: Job }
    patch: |-
      - { op: add, value: Always, path: /spec/template/spec/containers/0/imagePullPolicy }

secretGenerator:
  - name: postgres-monitoring
    namespace: prometheus
    behavior: create
    envs: [env/postgres-monitoring.env]
    options: { disableNameSuffixHash: true }
