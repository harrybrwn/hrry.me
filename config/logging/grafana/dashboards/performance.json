{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":6,"iteration":1655352409035,"links":[],"liveNow":false,"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":15,"panels":[],"title":"Hardware","type":"row"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":13,"w":12,"x":0,"y":1},"id":13,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"max without (cpu) (rate(node_cpu_seconds_total{mode=\"$cpu_mode\", hostname=~\"$hostname\"}[1m]))","legendFormat":"host:{{hostname}} mode:{{mode}}","range":true,"refId":"A"}],"title":"CPU Time","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":13,"w":12,"x":12,"y":1},"id":12,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"max without (cpu) (rate(node_cpu_seconds_total{mode=~\"iowait|idle\", hostname=~\"$hostname\"}[1m]))","hide":false,"legendFormat":"host:{{hostname}} mode:{{mode}}","range":true,"refId":"A"}],"title":"CPU Idle Time","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":14},"id":5,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","exemplar":false,"expr":"max by (hostname) (\r\n  (node_memory_MemTotal_bytes{hostname=~\"$hostname\"} - node_memory_MemFree_bytes{hostname=~\"$hostname\"}) / node_memory_MemTotal_bytes\r\n)","hide":true,"legendFormat":"{{hostname}}","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"sum by (hostname) ((node_memory_MemTotal_bytes{hostname=~\"$hostname\"} - node_memory_MemAvailable_bytes{hostname=~\"$hostname\"}) / node_memory_MemTotal_bytes)","hide":false,"legendFormat":"{{hostname}}","range":true,"refId":"B"}],"title":"Memory Use","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":14},"id":20,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"rate(node_disk_read_bytes_total{hostname=~\"$hostname\"}[1m])","legendFormat":"read - {{hostname}} {{device}}","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"rate(node_disk_written_bytes_total{hostname=~\"$hostname\"}[1m])","hide":false,"legendFormat":"write - {{hostname}} {{device}}","range":true,"refId":"B"}],"title":"Disk IO","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":22},"id":9,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"rate(node_network_receive_bytes_total{hostname=~\"$hostname\"}[$__rate_interval])","hide":false,"legendFormat":"{{hostname}} - {{device}}","range":true,"refId":"A"}],"title":"Network Traffic","type":"timeseries"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":31},"id":17,"panels":[],"title":"Services","type":"row"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":32},"id":23,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"rate(nginx_http_requests_total[$__rate_interval])","hide":false,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"nginx_connections_active","hide":false,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"rate(nginx_connections_accepted[$__rate_interval])","hide":true,"refId":"C"}],"title":"nginx","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":32},"id":21,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"registry_http_in_flight_requests","hide":true,"legendFormat":"{{name}}","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"histogram_quantile(0.95, sum(rate(registry_storage_action_seconds_bucket[$__rate_interval])) by (le))","hide":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"rate(registry_storage_action_seconds_sum[$__rate_interval])","hide":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"rate(registry_storage_action_seconds_count[$__rate_interval])","hide":false,"legendFormat":"{{driver}} - {{action}}","range":true,"refId":"D"}],"title":"Docker Registry Storage Actions","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":40},"id":25,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"rate(minio_s3_requests_total{}[$__rate_interval])","hide":false,"range":true,"refId":"A"}],"title":"S3 (MinIO)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":40},"id":11,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"rate(fluentbit_output_proc_records_total[1m])","hide":false,"legendFormat":"{{name}}","range":true,"refId":"A"}],"title":"FlubentBit Records Sent","type":"timeseries"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":48},"id":31,"panels":[],"title":"Go","type":"row"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":49},"id":29,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"editorMode":"code","expr":"go_memstats_alloc_bytes","hide":false,"legendFormat":"","range":true,"refId":"A"}],"title":"Go Memory Allocation","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":49},"id":28,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.5.5","targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"rate(go_gc_duration_seconds_sum{}[$__rate_interval])","hide":false,"refId":"B"}],"title":"Go Garbage Collection Durations","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":57},"id":32,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"go_sched_goroutines_goroutines","hide":true,"range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"go_goroutines","hide":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${PROM}"},"expr":"go_gc_heap_objects_objects","hide":false,"refId":"C"}],"title":"Go Memory Allocation","type":"timeseries"}],"refresh":"30s","schemaVersion":36,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":false,"text":"prometheus","value":"prometheus"},"hide":0,"includeAll":false,"multi":false,"name":"PROM","options":[],"query":"prometheus","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"user","value":"user"},"datasource":{"type":"prometheus","uid":"${PROM}"},"definition":"label_values(node_cpu_seconds_total, mode)","hide":0,"includeAll":false,"multi":false,"name":"cpu_mode","options":[],"query":{"query":"label_values(node_cpu_seconds_total, mode)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"},{"current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"${PROM}"},"definition":"label_values(node_boot_time_seconds, hostname)","hide":0,"includeAll":true,"multi":false,"name":"hostname","options":[],"query":{"query":"label_values(node_boot_time_seconds, hostname)","refId":"StandardVariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-1h","to":"now"},"timepicker":{},"timezone":"","title":"Performance Metrics","uid":"Tt6NZyXnz","version":7,"weekStart":""}
